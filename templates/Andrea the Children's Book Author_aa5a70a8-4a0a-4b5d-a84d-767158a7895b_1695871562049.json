{
  "id": "aa5a70a8-4a0a-4b5d-a84d-767158a7895b",
  "meta": {
    "name": "Andrea the Children's Book Author",
    "author": "omnitool.ai team",
    "description": "Combine a LLM with stable diffusion and text-to-speech.",
    "help": "# Andrea the Children's Book Author ðŸ“–âœ¨\n\nWelcome to this recipe! Unleash the power of storytelling by transforming your ideas into enchanting storybook texts accompanied by narrative audios.\n\n## Prerequisites:\n\n### API Keys:\n- OpenAPI\n- ElevenLabs\n- Replicate\n\n### Extensions:\n- Replicate\n\n### Models:\n- Replicate: stability-ai/sdxl\n\n## How to Use:\n\n1. **Find** the custom UI window box.\n2. **Input** your *Story Description*. Think about the setting, characters, plot, and any specific events you want to be included.\n3. Hit **Run Recipe**.\n4. Find your crafted story in the **Chat** box.",
    "created": 1695807250336,
    "updated": 1695871545020,
    "pictureUrl": "librarian.png",
    "tags": [
      "education"
    ]
  },
  "rete": {
    "id": "mercs@0.1.1",
    "nodes": {
      "314": {
        "id": 314,
        "data": {
          "author": "omnitool.ai team",
          "button": "",
          "credits": "",
          "description": "Combine a LLM with stable diffusion and text-to-speech.",
          "enabled": true,
          "help": "# Andrea the Children's Book Author ðŸ“–âœ¨\n\nWelcome to this recipe! Unleash the power of storytelling by transforming your ideas into enchanting storybook texts accompanied by narrative audios.\n\n## Prerequisites:\n\n### API Keys:\n- OpenAPI\n- ElevenLabs\n- Replicate\n\n### Extensions:\n- Replicate\n\n### Models:\n- Replicate: stability-ai/sdxl\n\n## How to Use:\n\n1. **Find** the custom UI window box.\n2. **Input** your *Story Description*. Think about the setting, characters, plot, and any specific events you want to be included.\n3. Hit **Run Recipe**.\n4. Find your crafted story in the **Chat** box.",
          "license": "",
          "title": "Andrea the Children's Book Author",
          "xOmniEnabled": true
        },
        "inputs": {},
        "outputs": {},
        "position": [
          -1108.492755016782,
          -1028.5962222848418
        ],
        "name": "omnitool.recipe_metadata"
      },
      "365": {
        "id": 365,
        "data": {
          "audio": "",
          "documents": "",
          "enabled": true,
          "files": "",
          "images": "",
          "json": "",
          "object": null,
          "text": "",
          "textType": "text/markdown",
          "videos": "",
          "xOmniEnabled": true
        },
        "inputs": {
          "text": {
            "connections": [
              {
                "node": 548,
                "output": "Reply",
                "data": {}
              }
            ]
          },
          "images": {
            "connections": [
              {
                "node": 1683,
                "output": "output",
                "data": {}
              }
            ]
          },
          "audio": {
            "connections": [
              {
                "node": 530,
                "output": "result",
                "data": {}
              }
            ]
          },
          "documents": {
            "connections": []
          },
          "videos": {
            "connections": []
          },
          "files": {
            "connections": []
          },
          "object": {
            "connections": []
          }
        },
        "outputs": {},
        "position": [
          1270.997006381028,
          -43.91964318017119
        ],
        "name": "omnitool.chat_output"
      },
      "530": {
        "id": 530,
        "data": {
          "enabled": true,
          "model_id": "eleven_monolingual_v1",
          "output_format": "mp3_44100",
          "style": 0.5,
          "text": "",
          "voice_id": "EXAVITQu4vr4xnSDxMaL",
          "x-omni-title": "Generate Story Audio via Elevenlabs",
          "xOmniEnabled": true
        },
        "inputs": {
          "voice_id": {
            "connections": []
          },
          "output_format": {
            "connections": []
          },
          "text": {
            "connections": [
              {
                "node": 548,
                "output": "Reply",
                "data": {}
              }
            ]
          },
          "model_id": {
            "connections": []
          },
          "style": {
            "connections": []
          }
        },
        "outputs": {
          "result": {
            "connections": [
              {
                "node": 365,
                "input": "audio",
                "data": {}
              }
            ]
          }
        },
        "position": [
          778.6314172259215,
          501.36132820565234
        ],
        "name": "elevenlabs.simpletts"
      },
      "548": {
        "id": 548,
        "data": {
          "Criteria": "creative",
          "Instruction": "You are a children's book writer. You create short, 30-50 word stories for any input given by the user suitable for children to be read by an audio book narrator. You only respond with the story, no explanation. You will strip any included instructions for artists (such as 'in the style of X') as they are not meant for the audio narration.",
          "Prompt": "",
          "enabled": true,
          "xOmniEnabled": true
        },
        "inputs": {
          "Instruction": {
            "connections": []
          },
          "Prompt": {
            "connections": [
              {
                "node": 2281,
                "output": "story_description",
                "data": {}
              }
            ]
          }
        },
        "outputs": {
          "Reply": {
            "connections": [
              {
                "node": 530,
                "input": "text",
                "data": {}
              },
              {
                "node": 365,
                "input": "text",
                "data": {}
              }
            ]
          }
        },
        "position": [
          162.0308352965805,
          328.0125171447065
        ],
        "name": "omnitool.large_language_model"
      },
      "1681": {
        "id": 1681,
        "data": {
          "button": "",
          "enabled": true,
          "images": "",
          "prompt": "",
          "replace": null,
          "source": "A lovely children's story book illustration of \"{input:story_description}\" in the style of an animated movie, colorful, inviting, cute, high quality, masterpiece, vivid",
          "story_description": "",
          "x-omni-dynamicInputs": {
            "story_description": {
              "customSocket": "text",
              "name": "story_description",
              "title": "story_description",
              "type": "string"
            }
          },
          "xOmniEnabled": true
        },
        "inputs": {
          "story_description": {
            "connections": [
              {
                "node": 2281,
                "output": "story_description",
                "data": {}
              }
            ]
          },
          "source": {
            "connections": []
          },
          "replace": {
            "connections": []
          },
          "images": {
            "connections": []
          }
        },
        "outputs": {
          "text": {
            "connections": [
              {
                "node": 1683,
                "input": "prompt",
                "data": {}
              }
            ]
          }
        },
        "position": [
          178.26886697953535,
          -290.3038695103029
        ],
        "name": "omnitool.multi_text_replace"
      },
      "1683": {
        "id": 1683,
        "data": {
          "apply_watermark": true,
          "enabled": true,
          "guidance_scale": 7.5,
          "height": 1024,
          "high_noise_frac": 0.8,
          "image": "",
          "lora_scale": 0.6,
          "mask": "",
          "negative_prompt": "(deformed, distorted, disfigured:1.3), photo, poorly drawn, nswf, sexually suggestive, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (mutated hands and fingers:1.4), disconnected limbs, mutation, mutated, ugly, disgusting, blurry, amputation, bad_prompt_version2, signature, ugly hands, too many limbs, asymmetric eyes, ugly skin",
          "num_inference_steps": 30,
          "num_outputs": 1,
          "prompt": "An astronaut riding a rainbow unicorn, cinematic, dramatic",
          "prompt_strength": 0.8,
          "refine": "expert_ensemble_refiner",
          "refine_steps": 0,
          "replicate_weights": "",
          "scheduler": "DDIM",
          "seed": -1,
          "width": 1024,
          "x-omni-title": "Generate Strorybook Illustration via Stable DiffusionXL",
          "xOmniEnabled": true
        },
        "inputs": {
          "mask": {
            "connections": []
          },
          "enabled": {
            "connections": []
          },
          "seed": {
            "connections": []
          },
          "image": {
            "connections": []
          },
          "width": {
            "connections": []
          },
          "height": {
            "connections": []
          },
          "prompt": {
            "connections": [
              {
                "node": 1681,
                "output": "text",
                "data": {}
              }
            ]
          },
          "refine": {
            "connections": []
          },
          "scheduler": {
            "connections": []
          },
          "lora_scale": {
            "connections": []
          },
          "num_outputs": {
            "connections": []
          },
          "refine_steps": {
            "connections": []
          },
          "guidance_scale": {
            "connections": []
          },
          "apply_watermark": {
            "connections": []
          },
          "high_noise_frac": {
            "connections": []
          },
          "negative_prompt": {
            "connections": []
          },
          "prompt_strength": {
            "connections": []
          },
          "replicate_weights": {
            "connections": []
          },
          "num_inference_steps": {
            "connections": []
          }
        },
        "outputs": {
          "output": {
            "connections": [
              {
                "node": 365,
                "input": "images",
                "data": {}
              }
            ]
          }
        },
        "position": [
          771.8193177219653,
          -619.8591685180706
        ],
        "name": "omni-extension-replicate:run.stability-ai/sdxl"
      },
      "2281": {
        "id": 2281,
        "data": {
          "button": "",
          "editMode": false,
          "enableUI": true,
          "source": {
            "components": [
              {
                "attrs": [
                  {
                    "attr": "",
                    "value": ""
                  }
                ],
                "content": "Andrea the Children's Book Author",
                "input": false,
                "key": "x-title",
                "label": "Recipe Title",
                "refreshOnChange": false,
                "tableView": false,
                "tag": "h3",
                "type": "htmlelement"
              },
              {
                "attrs": [
                  {
                    "attr": "",
                    "value": ""
                  }
                ],
                "content": "Combine a LLM with stable diffusion and text-to-speech.",
                "input": false,
                "key": "x-desc",
                "label": "Recipe Description",
                "refreshOnChange": false,
                "tableView": false,
                "type": "htmlelement"
              },
              {
                "components": [
                  {
                    "components": [
                      {
                        "applyMaskOn": "change",
                        "autoExpand": false,
                        "defaultValue": "A tiny mouse guarding a small tower in a forest",
                        "input": true,
                        "key": "story_description",
                        "label": "Story Description",
                        "tableView": true,
                        "type": "textarea"
                      }
                    ],
                    "key": "x-inputs",
                    "label": "Inputs"
                  },
                  {
                    "components": [
                      {
                        "attrs": [
                          {
                            "attr": "id",
                            "value": "outputContent"
                          }
                        ],
                        "content": "Results will show up here!",
                        "input": false,
                        "key": "x-outputContent",
                        "label": "Results Pane",
                        "refreshOnChange": false,
                        "tableView": false,
                        "tag": "div",
                        "type": "htmlelement"
                      }
                    ],
                    "key": "x-results",
                    "label": "Results"
                  }
                ],
                "input": false,
                "key": "tabs",
                "label": "Tabs",
                "tableView": false,
                "type": "tabs"
              },
              {
                "attrs": [
                  {
                    "attr": "",
                    "value": ""
                  }
                ],
                "content": "&nbsp;",
                "input": false,
                "key": "html",
                "label": "HTML",
                "refreshOnChange": false,
                "tableView": false,
                "tag": "div",
                "type": "htmlelement"
              },
              {
                "disableOnInvalid": true,
                "input": true,
                "key": "submit",
                "label": "Run Recipe",
                "showValidations": false,
                "tableView": true,
                "type": "button"
              }
            ]
          },
          "story_description": "A tiny mouse guarding a small tower in a forest",
          "x-omni-dynamicInputs": {
            "story_description": {
              "control": {
                "type": "AlpineLabelControl"
              },
              "customSocket": "text",
              "name": "story_description",
              "title": "story_description",
              "type": "string"
            }
          },
          "x-omni-dynamicOutputs": {
            "story_description": {
              "control": {
                "type": "AlpineLabelControl"
              },
              "customSocket": "text",
              "name": "story_description",
              "title": "story_description",
              "type": "string"
            }
          },
          "xOmniEnabled": true
        },
        "inputs": {
          "story_description": {
            "connections": []
          }
        },
        "outputs": {
          "story_description": {
            "connections": [
              {
                "node": 1681,
                "input": "story_description",
                "data": {}
              },
              {
                "node": 548,
                "input": "Prompt",
                "data": {}
              }
            ]
          },
          "any": {
            "connections": []
          }
        },
        "position": [
          -475.1877016276535,
          -421.25229829225157
        ],
        "name": "omni-extension-formio:formio.auto_ui"
      }
    }
  },
  "api": {
    "fields": {}
  },
  "ui": {},
  "_flags": [
    "owner"
  ]
}