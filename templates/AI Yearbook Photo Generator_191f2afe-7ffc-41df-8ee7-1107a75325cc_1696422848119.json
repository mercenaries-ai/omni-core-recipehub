{
  "id": "191f2afe-7ffc-41df-8ee7-1107a75325cc",
  "meta": {
    "name": "AI Yearbook Photo Generator",
    "author": "omnitool.ai team",
    "description": "Utilise a combination of LLM, the text-to-image Stable Diffusion XL Model, and face-swap techniques to transform a user's current photo into a retro yearbook image",
    "help": "## AI Yearbook Photo Generator üìöü§ñ\n\nWelcome to AI Yearbook Photo Generator! This recipe uses the Replicate extension and two specific models to craft a retro yearbook photo.\n\n### Prerequisites:\n\n**API Keys**:\n\n- OpenAI\n- Replicate\n\n**Extensions**:\n\n- Replicate\n\n**Models:**\n\n- Large Language Model\n- Replicate: rmokady/clip_prefix_caption\n- Replicate: stability-ai/sdxl\n- Replicate: lucataco/faceswap\n\n### How to Use:\n\n- Navigate to the **Chat** window.\n- Upload your current photo or simply click on the camera to take a selfie\n- Hit ‚ñ∂Ô∏è Run button!\n- Enjoy your AI-generated yearbook photo in the chat!",
    "created": 1696753026239,
    "updated": 1696753470930,
    "pictureUrl": "yearbook_001.jpg",
    "tags": [
      "lifestyle",
      "art & design"
    ]
  },
  "rete": {
    "id": "mercs@0.1.1",
    "nodes": {
      "701": {
        "id": 701,
        "data": {
          "enabled": true,
          "swap_image": "https://replicate.delivery/pbxt/JN97ny6RmjfrxizbgyHnPGGP8Kxzw6UI20ekarOg7dbo02Pi/elon.jpg",
          "target_image": "https://replicate.delivery/pbxt/JN97nntkJiijxKQ4iY8JUvVmy9PwY3VETJjBVUczrIqr2pwP/tony.jpg",
          "x-omni-title": "Replicate: lucataco/faceswap",
          "xOmniEnabled": true
        },
        "inputs": {
          "swap_image": {
            "connections": [
              {
                "node": 1326,
                "output": "images",
                "data": {}
              }
            ]
          },
          "enabled": {
            "connections": []
          },
          "target_image": {
            "connections": [
              {
                "node": 1018,
                "output": "output",
                "data": {}
              }
            ]
          }
        },
        "outputs": {
          "output": {
            "connections": [
              {
                "node": 702,
                "input": "images",
                "data": {}
              }
            ]
          }
        },
        "position": [
          1588.418666077215,
          -813.9524930112726
        ],
        "name": "omni-extension-replicate:run.lucataco/faceswap"
      },
      "702": {
        "id": 702,
        "data": {
          "audio": "",
          "documents": "",
          "enabled": true,
          "files": "",
          "images": "",
          "object": null,
          "text": "",
          "textType": "text/markdown",
          "videos": "",
          "xOmniEnabled": true
        },
        "inputs": {
          "text": {
            "connections": []
          },
          "images": {
            "connections": [
              {
                "node": 701,
                "output": "output",
                "data": {}
              }
            ]
          },
          "audio": {
            "connections": []
          },
          "documents": {
            "connections": []
          },
          "videos": {
            "connections": []
          },
          "files": {
            "connections": []
          },
          "object": {
            "connections": []
          }
        },
        "outputs": {},
        "position": [
          2087.977574977194,
          -769.6021512119898
        ],
        "name": "omnitool.chat_output"
      },
      "1018": {
        "id": 1018,
        "data": {
          "apply_watermark": true,
          "enabled": true,
          "guidance_scale": 7.5,
          "height": 1024,
          "high_noise_frac": 0.8,
          "image": "",
          "lora_scale": 0.6,
          "mask": "",
          "negative_prompt": "nsfw, sexy, nude, cartoon, illustration, animation, extra detail, chaotic distribution of objects",
          "num_inference_steps": 50,
          "num_outputs": 1,
          "prompt": "a portrait style professional photograph, close-up, messy shoulder-length waves hairstyle, chestnut brown hair color, high quality, detailed, sharp focus, vibrant colors, 4k, 8k",
          "prompt_strength": 1,
          "refine": "expert_ensemble_refiner",
          "refine_steps": 0,
          "replicate_weights": "",
          "scheduler": "K_EULER",
          "seed": 0,
          "width": 1024,
          "xOmniEnabled": true
        },
        "inputs": {
          "mask": {
            "connections": []
          },
          "enabled": {
            "connections": []
          },
          "seed": {
            "connections": []
          },
          "image": {
            "connections": []
          },
          "width": {
            "connections": []
          },
          "height": {
            "connections": []
          },
          "prompt": {
            "connections": [
              {
                "node": 1342,
                "output": "Reply",
                "data": {}
              }
            ]
          },
          "refine": {
            "connections": []
          },
          "scheduler": {
            "connections": []
          },
          "lora_scale": {
            "connections": []
          },
          "num_outputs": {
            "connections": []
          },
          "refine_steps": {
            "connections": []
          },
          "guidance_scale": {
            "connections": []
          },
          "apply_watermark": {
            "connections": []
          },
          "high_noise_frac": {
            "connections": []
          },
          "negative_prompt": {
            "connections": []
          },
          "prompt_strength": {
            "connections": []
          },
          "replicate_weights": {
            "connections": []
          },
          "num_inference_steps": {
            "connections": []
          }
        },
        "outputs": {
          "output": {
            "connections": [
              {
                "node": 701,
                "input": "target_image",
                "data": {}
              }
            ]
          }
        },
        "position": [
          1069.3790428997172,
          -649.2421601080384
        ],
        "name": "omni-extension-replicate:run.stability-ai/sdxl"
      },
      "1326": {
        "id": 1326,
        "data": {
          "audio": "",
          "documents": "",
          "images": "",
          "text": "",
          "video": "",
          "xOmniEnabled": true
        },
        "inputs": {
          "text": {
            "connections": []
          },
          "images": {
            "connections": []
          },
          "audio": {
            "connections": []
          },
          "video": {
            "connections": []
          },
          "documents": {
            "connections": []
          }
        },
        "outputs": {
          "text": {
            "connections": []
          },
          "images": {
            "connections": [
              {
                "node": 701,
                "input": "swap_image",
                "data": {}
              },
              {
                "node": 1339,
                "input": "image",
                "data": {}
              }
            ]
          },
          "audio": {
            "connections": []
          },
          "video": {
            "connections": []
          },
          "documents": {
            "connections": []
          },
          "json": {
            "connections": []
          }
        },
        "position": [
          -452.14170336942993,
          -887.5780898912452
        ],
        "name": "omnitool.chat_input"
      },
      "1327": {
        "id": 1327,
        "data": {
          "author": "omnitool.ai team",
          "button": "",
          "credits": "",
          "description": "Combine text-to-image generation with face-swap to craft a retro yearbook photo.",
          "help": "## AI Yearbook Photo Generator üìöü§ñ\n\nWelcome to AI Yearbook Photo Generator! This recipe uses the Replicate extension and two specific models to craft a retro yearbook photo.\n\n### Prerequisites:\n\n**API Keys**:\n\n- OpenAI\n- Replicate\n\n**Extensions**:\n\n- Replicate\n\n**Models:**\n\n- Large Language Model\n- Replicate: rmokady/clip_prefix_caption\n- Replicate: stability-ai/sdxl\n- Replicate: lucataco/faceswap\n\n### How to Use:\n\n- Navigate to the **Chat** window.\n- Upload your current photo or simply click on the camera to take a selfie\n- Hit ‚ñ∂Ô∏è Run button!\n- Enjoy your AI-generated yearbook photo in the chat!",
          "license": "CC0",
          "title": "AI Yearbook Photo Generator",
          "xOmniEnabled": true
        },
        "inputs": {},
        "outputs": {},
        "position": [
          37.284677989686145,
          -109.9869740662271
        ],
        "name": "omnitool.recipe_metadata"
      },
      "1338": {
        "id": 1338,
        "data": {
          "audio": "",
          "documents": "",
          "files": "",
          "images": "",
          "object": null,
          "text": "",
          "textType": "text/markdown",
          "videos": "",
          "xOmniEnabled": true
        },
        "inputs": {
          "text": {
            "connections": [
              {
                "node": 1342,
                "output": "Reply",
                "data": {}
              }
            ]
          },
          "images": {
            "connections": []
          },
          "audio": {
            "connections": []
          },
          "documents": {
            "connections": []
          },
          "videos": {
            "connections": []
          },
          "files": {
            "connections": []
          },
          "object": {
            "connections": []
          }
        },
        "outputs": {},
        "position": [
          1578.6338962204654,
          -144.69731815230185
        ],
        "name": "omnitool.chat_output"
      },
      "1339": {
        "id": 1339,
        "data": {
          "enabled": true,
          "image": "https://replicate.delivery/mgxm/4dc7763a-f234-4a7c-a85f-cb9e05e37cf8/COCO_val2014_000000579664.jpg",
          "model": "coco",
          "use_beam_search": false,
          "xOmniEnabled": true
        },
        "inputs": {
          "image": {
            "connections": [
              {
                "node": 1326,
                "output": "images",
                "data": {}
              }
            ]
          },
          "enabled": {
            "connections": []
          },
          "model": {
            "connections": []
          },
          "use_beam_search": {
            "connections": []
          }
        },
        "outputs": {
          "output": {
            "connections": [
              {
                "node": 1342,
                "input": "Prompt",
                "data": {}
              }
            ]
          }
        },
        "position": [
          38.81387794460887,
          -495.95219424729737
        ],
        "name": "omni-extension-replicate:run.rmokady/clip_prefix_caption"
      },
      "1342": {
        "id": 1342,
        "data": {
          "Criteria": "",
          "Instruction": "You are a helpful assistant interpreting user inputs for a generative image program. I'll provide you a photo description. You output a prompt in a string of keywords that contains the most important features from the description. Ensure to always include gender.\n\nHowever, for this photo, change the age to be in 20-25 year-old.\n\nYou will always prepend the following string to the prompt: \n\n\"Create a school yearbook photo with linen backdrop background. The photo is analog, close-up portrait, retro, faded.\"\n\nIf there is only one word, or no input, or the input doesn't describe a person, just ignore the input and be creative and add elements to make a fun interesting prompt yourself.\n\nFor example: \n\"Create a school yearbook photo with linen backdrop background. The photo is analog, close-up portrait, retro, faded. male, 20 year-old, vibrant polo shirt, bold horizontal stripes, popped collar, high-waisted jeans, feathered hair, chestnut brown, deep-set hazel eyes, confident smile\"",
          "Prompt": "",
          "xOmniEnabled": true
        },
        "inputs": {
          "Instruction": {
            "connections": []
          },
          "Prompt": {
            "connections": [
              {
                "node": 1339,
                "output": "output",
                "data": {}
              }
            ]
          }
        },
        "outputs": {
          "Reply": {
            "connections": [
              {
                "node": 1018,
                "input": "prompt",
                "data": {}
              },
              {
                "node": 1338,
                "input": "text",
                "data": {}
              }
            ]
          }
        },
        "position": [
          548.438760123195,
          -649.519486619786
        ],
        "name": "omnitool.large_language_model"
      }
    }
  },
  "api": {
    "fields": {}
  },
  "ui": {},
  "_flags": [
    "owner"
  ]
}